package com.bfrc.pojo.promotion;

// Generated Jun 14, 2007 11:50:22 AM by Hibernate Tools 3.2.0.beta8

import java.math.BigDecimal;
import java.sql.Blob;
import java.text.SimpleDateFormat;
import java.util.Date;

import com.bfrc.Config;

/**
 * Promotion generated by hbm2java
 */
public class AbstractPromotion implements java.io.Serializable {

	private static SimpleDateFormat sdf = new SimpleDateFormat("M/d/yyyy");
	// Fields    

	private long promotionId;
	private Date startDate;
	private Date expirationDate;
	private String description;
	private String tireId;
	private String tireId2;
	private int suvDisplay;
	private String url;
	private Boolean defaultSize;
	private Boolean newWindow;
	private Boolean maintOffer;
	private Boolean repairOffer;
	private Boolean tireOffer;
	private Boolean homePageOffer;
	private Long width;
	private Long height;
	private long orderId;
	private String target;
	private Date createdDate;
	private char promoType;
	private String webSite;
	private boolean hasImage;
	private boolean hasThumb;
	private boolean hasFlashIcon;
	private Blob imageBlob;
	private Blob thumbBlob;
	private Blob flashIconBlob;
	
	private String landingPageId;
	private byte[] landingPageIcon;
	private String priceInfo;
	private String friendlyId;
	private String disclaimer;
	
	private Date modifiedDate;
	
	private Date offerStart;
	private Date offerEnd;
	private String offerDescription;
	private Boolean approved;
	private String promoName;
	
	private String tireQuoteDescription;
	private String offerType;
	private BigDecimal offerValue;
	private byte minQualifierQty;
	private String imageFileId;
	private String urlText;
	
	// for t5 and t6
	private String t5Title;
	private String t5Price;
	private String t5Desc;
	private String brandName;
	private Boolean offerWithoutPrice;		
	
	public String toString() {
		StringBuffer sb = new StringBuffer("ID: " + promotionId + "\n");
		if(description != null)
			sb.append("Description: " + description + "\n");
		if(startDate != null)
			sb.append("Start Date: " + sdf.format(startDate) + "\n");
		if(expirationDate != null)
			sb.append("Expiration Date: " + sdf.format(expirationDate) + "\n");
		if(url != null)
			sb.append("URL: " + url + "\n");
		if(newWindow != null)
			sb.append("New Window: " + newWindow + "\n");
		if(maintOffer != null)
			sb.append("Maint Offer: " + maintOffer + "\n");
		if(repairOffer != null)
			sb.append("Repair Offer: " + repairOffer + "\n");
		if(tireOffer != null)
			sb.append("Tire Offer: " + tireOffer + "\n");
		if(target != null)
			sb.append("Target: " + target + "\n");
		if(defaultSize != null)
			sb.append("Default Size: " + defaultSize + "\n");
		if(width != null)
			sb.append("Width: " + width + "\n");
		if(height != null)
			sb.append("Height: " + height + "\n");
		sb.append("Type: " + promoType);
		if(webSite != null)
			sb.append("Web Site: " + webSite + "\n");
		if(priceInfo != null)
			sb.append("Price Info: " + priceInfo + "\n");
		if(promotionTypeUrl != null)
			sb.append("promotionTypeUrl: " + promotionTypeUrl + "\n");		
		return sb.toString();
	}

	// Constructors

	/** default constructor */
	public AbstractPromotion() {
	}

	/** minimal constructor */
	public AbstractPromotion(long promotionId, String description, int suvDisplay,
			long orderId, Date createdDate, char promoType) {
		this.promotionId = promotionId;
		this.description = description;
		this.suvDisplay = suvDisplay;
		this.orderId = orderId;
		this.createdDate = createdDate;
		this.promoType = promoType;
	}

	/** full constructor */
	public AbstractPromotion(long promotionId, Date startDate, Date expirationDate,
			String description, String tireId, String tireId2,
			int suvDisplay, String url, Boolean defaultSize,
			Boolean newWindow, Long width, Long height, long orderId,
			String target, Date createdDate, char promoType, byte[] image,
			String webSite, String landingPageId, byte[] landingPageIcon, String priceInfo) {
		this.promotionId = promotionId;
		this.startDate = startDate;
		this.expirationDate = expirationDate;
		this.description = description;
		this.tireId = tireId;
		this.tireId2 = tireId2;
		this.suvDisplay = suvDisplay;
		this.url = url;
		this.defaultSize = defaultSize;
		this.newWindow = newWindow;
		this.width = width;
		this.height = height;
		this.orderId = orderId;
		this.target = target;
		this.createdDate = createdDate;
		this.promoType = promoType;
		this.webSite = webSite;
		this.landingPageId = landingPageId;
		this.landingPageIcon = landingPageIcon;
		this.priceInfo = priceInfo;
	}

	// Property accessors
	public long getPromotionId() {
		return this.promotionId;
	}

	public void setPromotionId(long promotionId) {
		this.promotionId = promotionId;
	}

	public Date getStartDate() {
		return this.startDate;
	}

	public void setStartDate(Date startDate) {
		this.startDate = startDate;
	}

	public Date getExpirationDate() {
		return this.expirationDate;
	}

	public void setExpirationDate(Date expirationDate) {
		this.expirationDate = expirationDate;
	}

	public String getDescription() {
		return getDescription(false);
	}

	public String getDescription(boolean splitOnColon) {
		if(splitOnColon && this.description != null)
			return this.description.replaceFirst(":", ":<br />");
		return this.description;
	}

	public void setDescription(String description) {
		this.description = description;
	}

	public String getTireId() {
		return this.tireId;
	}

	public void setTireId(String tireId) {
		this.tireId = tireId;
	}

	public String getTireId2() {
		return this.tireId2;
	}

	public void setTireId2(String tireId2) {
		this.tireId2 = tireId2;
	}

	public int getSuvDisplay() {
		return this.suvDisplay;
	}

	public void setSuvDisplay(int suvDisplay) {
		this.suvDisplay = suvDisplay;
	}

	public String getUrl() {
		return this.url;
	}

	public void setUrl(String url) {
		this.url = url;
	}

	public Boolean getDefaultSize() {
		return this.defaultSize;
	}

	public void setDefaultSize(Boolean defaultSize) {
		this.defaultSize = defaultSize;
	}

	public Boolean getNewWindow() {
		return this.newWindow;
	}

	public void setNewWindow(Boolean newWindow) {
		this.newWindow = newWindow;
	}

	public Long getWidth() {
		return this.width;
	}

	public void setWidth(Long width) {
		this.width = width;
	}

	public Long getHeight() {
		return this.height;
	}

	public void setHeight(Long height) {
		this.height = height;
	}

	public long getOrderId() {
		return this.orderId;
	}

	public void setOrderId(long orderId) {
		this.orderId = orderId;
	}

	public String getTarget() {
		return this.target;
	}

	public void setTarget(String target) {
		this.target = target;
	}

	public Date getCreatedDate() {
		return this.createdDate;
	}

	public void setCreatedDate(Date createdDate) {
		this.createdDate = createdDate;
	}

	public char getPromoType() {
		return this.promoType;
	}

	public void setPromoType(char promoType) {
		this.promoType = promoType;
	}

	public String getWebSite() {
		return this.webSite;
	}

	public void setWebSite(String webSite) {
		this.webSite = webSite;
	}

	public String getPriceInfo() {
		return this.priceInfo;
	}

	public void setPriceInfo(String priceInfo) {
		this.priceInfo = priceInfo;
	}

	public String buildAnchor() {
		return buildAnchor(null);
	}
	
	public String buildAnchor(Config c) {
		String out = "#";
		if(promoType == 'C')
			out = buildCouponHref(c);
		else if(promoType == 'P')
			out = buildPromotionHref();
		return "<a href=\"" + out + "\">";
	}
	
	public String buildPromotionHref() {
		String href="";              
		if(newWindow != null && newWindow.booleanValue() && (defaultSize == null || !defaultSize.booleanValue()) && width!=null && height!=null && width.longValue()>0 && height.longValue()>0) {
			href ="javascript:go_link_noscroll('"+url+"',"+height +","+width+");";          
		}
		else if(newWindow != null && newWindow.booleanValue() && (defaultSize == null || defaultSize.booleanValue()) && (target==null || target.length()<1)) {
			href=url+"\""+" target=\"_blank" ;         
		} 
		else if(target!=null && target.length()>0) {
			href=url+"\""+" target=\""+target;
		}
		else if(newWindow == null || !newWindow.booleanValue()) {
			href=url;
		}
		return href;
	}
	
	public String buildCouponHref() {
		return buildCouponHref(null);
	}
	
	public String buildCouponHref(Config c) {
        Date expDate = expirationDate;
        if(expDate == null)
            expDate = new Date(0);
        String catalogId = tireId;
        String catalogLink = "";
        if(catalogId != null) {
            catalogLink = "&catalogId=" + catalogId;
        }
        catalogId = tireId2;
        if(catalogId != null) {
            catalogLink += "&catalogId2=" + catalogId;
        }
        Long width = this.width;
        Long height = this.height;
        if(width == null)
        	width = new Long(480);
        if(height == null) {
        	if(c == null || !Config.TP.equals(c.getSiteName()))
        		height = new Long(460);
        	else height = new Long(670);
        }
        String url = "javascript:go_link('/popup.jsp?image=" + promotionId
	        + catalogLink 
	        + "', "+width+","+height+");";
        return url;
	}

	public Boolean getMaintOffer() {
		return maintOffer;
	}

	public void setMaintOffer(Boolean maintOffer) {
		this.maintOffer = maintOffer;
	}

	public Boolean getRepairOffer() {
		return repairOffer;
	}

	public void setRepairOffer(Boolean repairOffer) {
		this.repairOffer = repairOffer;
	}

	public Boolean getTireOffer() {
		return tireOffer;
	}

	public void setTireOffer(Boolean tireOffer) {
		this.tireOffer = tireOffer;
	}

	public Boolean getHomePageOffer() {
		return homePageOffer;
	}

	public void setHomePageOffer(Boolean homePageOffer) {
		this.homePageOffer = homePageOffer;
	}

	public boolean isHasImage() {
		return hasImage;
	}

	public void setHasImage(boolean hasImage) {
		this.hasImage = hasImage;
	}

	public boolean isHasThumb() {
		return hasThumb;
	}

	public void setHasThumb(boolean hasThumb) {
		this.hasThumb = hasThumb;
	}

	public boolean isHasFlashIcon() {
		return hasFlashIcon;
	}

	public void setHasFlashIcon(boolean hasFlashIcon) {
		this.hasFlashIcon = hasFlashIcon;
	}

	public Blob getImageBlob() {
		return imageBlob;
	}

	public void setImageBlob(Blob imageBlob) {
		this.imageBlob = imageBlob;
	}

	public Blob getThumbBlob() {
		return thumbBlob;
	}

	public void setThumbBlob(Blob thumbBlob) {
		this.thumbBlob = thumbBlob;
	}

	public Blob getFlashIconBlob() {
		return flashIconBlob;
	}

	public void setFlashIconBlob(Blob flashIconBlob) {
		this.flashIconBlob = flashIconBlob;
	}
	//cxs patch for descepency
	public boolean hasImage()
    {
        return hasImage;
    }

    public boolean hasThumb()
    {
        return hasThumb;
    }

    public boolean hasFlashIcon()
    {
        return hasFlashIcon;
    }
    
	public byte[] getLandingPageIcon() {
		return this.landingPageIcon;
	}
	
	public void setLandingPageIcon(byte[] landingPageIcon) {
		this.landingPageIcon = landingPageIcon;
	}
	
	public String  getLandingPageId() {
		return this.landingPageId;
	}
	
	public void setLandingPageId(String landingPageId) {
		this.landingPageId = landingPageId;
	}
	public String getFriendlyId() {
        return this.friendlyId;
    }
    
    public void setFriendlyId(String friendlyId) {
        this.friendlyId = friendlyId;
    }
    public String getDisclaimer() {
        return this.disclaimer;
    }
    
    public void setDisclaimer(String disclaimer) {
        this.disclaimer = disclaimer;
    }
    
    public Date getModifiedDate() {
		return this.modifiedDate;
	}

	public void setModifiedDate(Date modifiedDate) {
		this.modifiedDate = modifiedDate;
	}

	public Date getOfferStart() {
		return offerStart;
	}

	public void setOfferStart(Date offerStart) {
		this.offerStart = offerStart;
	}

	public Date getOfferEnd() {
		return offerEnd;
	}

	public void setOfferEnd(Date offerEnd) {
		this.offerEnd = offerEnd;
	}
	//These are for display purposes

	private String promotionTypeUrl;
	private String offerStartDateFormatted;
	private String offerEndDateFormatted;
	
	public String getPromotionTypeUrl() {
		return promotionTypeUrl;
	}

	public void setPromotionTypeUrl(String promotionTypeUrl) {
		this.promotionTypeUrl = promotionTypeUrl;
	}

	public String getOfferStartDateFormatted() {
		return offerStartDateFormatted;
	}

	public void setOfferStartDateFormatted(String offerStartDateFormatted) {
		this.offerStartDateFormatted = offerStartDateFormatted;
	}

	public String getOfferEndDateFormatted() {
		return offerEndDateFormatted;
	}

	public void setOfferEndDateFormatted(String offerEndDateFormatted) {
		this.offerEndDateFormatted = offerEndDateFormatted;
	}

	public String getOfferDescription() {
		return offerDescription;
	}

	public void setOfferDescription(String offerDescription) {
		this.offerDescription = offerDescription;
	}
	
	public Boolean getApproved() {
		return approved;
	}

	public void setApproved(Boolean approved) {
		this.approved = approved;
	}

	public String getPromoName() {
		return promoName;
	}

	public void setPromoName(String promoName) {
		this.promoName = promoName;
	}

	public String getTireQuoteDescription() {
		return tireQuoteDescription;
	}

	public void setTireQuoteDescription(String tireQuoteDescription) {
		this.tireQuoteDescription = tireQuoteDescription;
	}

	public String getOfferType() {
		return offerType;
	}

	public void setOfferType(String offerType) {
		this.offerType = offerType;
	}

	public BigDecimal getOfferValue() {
		return offerValue;
	}

	public void setOfferValue(BigDecimal offerValue) {
		this.offerValue = offerValue;
	}

	public byte getMinQualifierQty() {
		return minQualifierQty;
	}

	public void setMinQualifierQty(byte minQualifierQty) {
		this.minQualifierQty = minQualifierQty;
	}

	public String getImageFileId() {
		return imageFileId;
	}

	public void setImageFileId(String imageFileId) {
		this.imageFileId = imageFileId;
	}

	public String getUrlText() {
		return urlText;
	}

	public void setUrlText(String urlText) {
		this.urlText = urlText;
	}

	public String getT5Title() {
		return t5Title;
	}

	public void setT5Title(String t5Title) {
		this.t5Title = t5Title;
	}

	public String getT5Price() {
		return t5Price;
	}

	public void setT5Price(String t5Price) {
		this.t5Price = t5Price;
	}

	public String getT5Desc() {
		return t5Desc;
	}

	public void setT5Desc(String t5Desc) {
		this.t5Desc = t5Desc;
	}

	public String getBrandName() {
		return brandName;
	}

	public void setBrandName(String brandName) {
		this.brandName = brandName;
	}		

	public Boolean getOfferWithoutPrice() {
		return offerWithoutPrice;
	}

	public void setOfferWithoutPrice(Boolean offerWithoutPrice) {
		this.offerWithoutPrice = offerWithoutPrice;
	}

	@Override
	public int hashCode() {
		final int prime = 31;
		int result = 1;
		result = prime * result + (int) (promotionId ^ (promotionId >>> 32));
		return result;
	}

	@Override
	public boolean equals(Object obj) {
		if (this == obj)
			return true;
		if (obj == null)
			return false;
		if (getClass() != obj.getClass())
			return false;
		AbstractPromotion other = (AbstractPromotion) obj;
		if (promotionId != other.promotionId)
			return false;
		return true;
	}
}
